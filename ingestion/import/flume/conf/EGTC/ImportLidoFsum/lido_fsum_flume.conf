##########################FLUME AGENT CONFIGURATION########################################
#AGENT CONFIG NAME 	: lido_fsum_flume.conf
#CREATED BY 		: Ravindra chellubani
#CREATED DATE 		: 05-11-2017
#MODIFIED BY 		:
#MODIFIED DATE 		: 
#DESCRIPTION 		: This is a flume kafka raw configuration for LIDO FLIGHT SUMMARY 
##########################################################################################

#AGENT START CMD
#===========================================================================================
#flume-ng agent -f /home/ops_eff/ek_lido/lido_fsum_flume.conf -n LidoFsumAgent

#CHANNEL NAMES
#===========================================================================================
LidoFsumAgent.channels = lidoFsumChannelDOZ lidoFsumChannelETC
#SINK NAMES
LidoFsumAgent.sinks  = lidoFsumSinkDOZ lidoFsumSinkETC

#CHANNEL CONFIGURATION FOR lidoFsumChannelDOZ
#===========================================================================================
LidoFsumAgent.channels.lidoFsumChannelDOZ.type = org.apache.flume.channel.kafka.KafkaChannel
LidoFsumAgent.channels.lidoFsumChannelDOZ.parseAsFlumeEvent = false
LidoFsumAgent.channels.lidoFsumChannelDOZ.timeout = 1000
#Note : Need to be updated with hostnames while moving to production
LidoFsumAgent.channels.lidoFsumChannelDOZ.kafka.bootstrap.servers = dolinux751.hq.emirates.com:9092,dolinux767.hq.emirates.com:9092,dolinux759.hq.emirates.com:9092,dolinux766.hq.emirates.com:9092,dolinux781.hq.emirates.com:9092
LidoFsumAgent.channels.lidoFsumChannelDOZ.kafka.topic = HLX_LIDO_TIB_KFT_FSUM_IN_DOZ
LidoFsumAgent.channels.lidoFsumChannelDOZ.kafka.consumer.group.id = lidoFsumRawConsumerGroup
LidoFsumAgent.channels.lidoFsumChannelDOZ.kafka.consumer.auto.offset.reset = latest
LidoFsumAgent.channels.lidoFsumChannelDOZ.kafka.consumer.max.partition.fetch.bytes = 15728640

#SINK CONFIGURATION FOR lidoFsumChannelDOZ
#===========================================================================================
LidoFsumAgent.sinks.lidoFsumSinkDOZ.type = HDFS
LidoFsumAgent.sinks.lidoFsumSinkDOZ.hdfs.path = /data/helix/raw/lido/flight_summary/incremental/1.0/%Y-%m-%d/%H-%M
LidoFsumAgent.sinks.lidoFsumSinkDOZ.hdfs.filePrefix = fsum
LidoFsumAgent.sinks.lidoFsumSinkDOZ.hdfs.fileType = SequenceFile
LidoFsumAgent.sinks.lidoFsumSinkDOZ.hdfs.rollInterval = 0
LidoFsumAgent.sinks.lidoFsumSinkDOZ.hdfs.rollSize = 134217728
LidoFsumAgent.sinks.lidoFsumSinkDOZ.hdfs.rollCount = 0
LidoFsumAgent.sinks.lidoFsumSinkDOZ.hdfs.batchSize = 100
LidoFsumAgent.sinks.lidoFsumSinkDOZ.hdfs.codeC = snappy
LidoFsumAgent.sinks.lidoFsumSinkDOZ.hdfs.maxOpenFiles = 100
LidoFsumAgent.sinks.lidoFsumSinkDOZ.hdfs.callTimeout = 60000
LidoFsumAgent.sinks.lidoFsumSinkDOZ.hdfs.round = true
LidoFsumAgent.sinks.lidoFsumSinkDOZ.hdfs.roundValue = 15
LidoFsumAgent.sinks.lidoFsumSinkDOZ.hdfs.roundUnit = minute
LidoFsumAgent.sinks.lidoFsumSinkDOZ.hdfs.idleTimeout = 600
LidoFsumAgent.sinks.lidoFsumSinkDOZ.hdfs.timeZone = GMT
# LidoFsumAgent.sinks.lidoFsumSinkDOZ.hdfs.proxyUser = ops_eff
LidoFsumAgent.sinks.lidoFsumSinkDOZ.channel = lidoFsumChannelDOZ
LidoFsumAgent.sinks.lidoFsumSinkDOZ.hdfs.useLocalTimeStamp = true

#CHANNEL CONFIGURATION FOR lidoFsumChannelETC
#===========================================================================================
LidoFsumAgent.channels.lidoFsumChannelETC.type = org.apache.flume.channel.kafka.KafkaChannel
LidoFsumAgent.channels.lidoFsumChannelETC.parseAsFlumeEvent = false
LidoFsumAgent.channels.lidoFsumChannelETC.timeout = 1000
LidoFsumAgent.channels.lidoFsumChannelETC.kafka.bootstrap.servers = hqlinux838.hq.emirates.com:9092,hqlinux760.hq.emirates.com:9092,hqlinux752.hq.emirates.com:9092,hqlinux839.hq.emirates.com:9092,hqlinux753.hq.emirates.com:9092
LidoFsumAgent.channels.lidoFsumChannelETC.kafka.topic = HLX_LIDO_TIB_KFT_FSUM_IN_ETC
LidoFsumAgent.channels.lidoFsumChannelETC.kafka.consumer.group.id = lidoFsumRawConsumerGroup
LidoFsumAgent.channels.lidoFsumChannelETC.kafka.consumer.auto.offset.reset = latest
LidoFsumAgent.channels.lidoFsumChannelETC.kafka.consumer.max.partition.fetch.bytes = 15728640

#SINK CONFIGURATION FOR lidoFsumChannelETC
#===========================================================================================
LidoFsumAgent.sinks.lidoFsumSinkETC.type = HDFS
LidoFsumAgent.sinks.lidoFsumSinkETC.hdfs.path = /data/helix/raw/lido/flight_summary/incremental/1.0/%Y-%m-%d/%H-%M
LidoFsumAgent.sinks.lidoFsumSinkETC.hdfs.filePrefix = fsum
LidoFsumAgent.sinks.lidoFsumSinkETC.hdfs.fileType = SequenceFile
LidoFsumAgent.sinks.lidoFsumSinkETC.hdfs.rollInterval = 0
LidoFsumAgent.sinks.lidoFsumSinkETC.hdfs.rollSize = 134217728
LidoFsumAgent.sinks.lidoFsumSinkETC.hdfs.rollCount = 0
LidoFsumAgent.sinks.lidoFsumSinkETC.hdfs.batchSize = 100
LidoFsumAgent.sinks.lidoFsumSinkETC.hdfs.codeC = snappy
LidoFsumAgent.sinks.lidoFsumSinkETC.hdfs.maxOpenFiles = 100
LidoFsumAgent.sinks.lidoFsumSinkETC.hdfs.callTimeout = 60000
LidoFsumAgent.sinks.lidoFsumSinkETC.hdfs.round = true
LidoFsumAgent.sinks.lidoFsumSinkETC.hdfs.roundValue = 15
LidoFsumAgent.sinks.lidoFsumSinkETC.hdfs.roundUnit = minute
LidoFsumAgent.sinks.lidoFsumSinkETC.hdfs.idleTimeout = 600
LidoFsumAgent.sinks.lidoFsumSinkETC.hdfs.useLocalTimeStamp = true
LidoFsumAgent.sinks.lidoFsumSinkETC.hdfs.timeZone = GMT
# LidoFsumAgent.sinks.lidoFsumSinkETC.hdfs.proxyUser = ops_eff
LidoFsumAgent.sinks.lidoFsumSinkETC.channel = lidoFsumChannelETC

##########################################END################################################
